import{useApi as e,useStores as l,defineInterface as t}from"@directus/extensions-sdk";import{defineComponent as i,computed as o,ref as a,watchEffect as n,resolveComponent as r,openBlock as u,createBlock as s,unref as c}from"vue";var d=i({__name:"interface",props:{collection:{type:String,required:!0},field:{type:String,required:!0},value:{type:[Object,Number,null],default:null}},emits:["input"],setup(t,{emit:i}){const d=t,p=e(),v=l(),m=v.useFieldsStore(),f=v.useRelationsStore(),g=v.useCollectionsStore().getCollection(f.getRelationForField(d.collection,d.field).related_collection),y=o((()=>g?m.getFieldsForCollection(g.collection):[])),S=e=>typeof e==typeof Number(),_=a({}),F=o({get:()=>S(d.value)?_.value:d.value,set:e=>{i("input",e)}});return n((async()=>{if(S(d.value)){const e=(await p.get(`/items/${g.collection}?filter[id][_eq]=${d.value}`)).data.data;1===e.length&&(_.value=e[0])}})),(e,l)=>{const t=r("v-form");return u(),s(t,{fields:c(y),"initial-values":_.value,"model-value":c(F),"onUpdate:modelValue":l[0]||(l[0]=e=>F.value=e)},null,8,["fields","initial-values","model-value"])}}});d.__file="src/interface.vue";var p=t({id:"seo",name:"SEO",icon:"link",description:"SEO Integration",types:["alias"],localTypes:["m2o"],component:d,group:"relational",relational:!0,options:null});export{p as default};
